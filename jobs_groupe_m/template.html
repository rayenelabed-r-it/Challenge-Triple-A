<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="30">
    <title>Config machine</title>
    <link rel="stylesheet" href="template.css">
</head>
<body>
    <header>
        <h1> configuration PC de {{name_pc}}, {{timestamp}}  </h1>
    </header>
    <main>
        <section class="Système">
            <h2>Système</h2>
            <p>le système d'exploitation : {{name_systeme}}</p>
            <p>uptime : {{uptime}} </p>
            <p>nombre utilisateur : {{user_nomber}} </p>
            <p>charge système moyenne : {{system_load}}</p>
        </section>
        <section class="cpu">
            <h2>le cpu</h2>
            <p>le nombre de coeur : {{cpu_count}}</p>
            <p>la fréquence : {{frequency}}</p>
            <p>le pourcentage d'utilisation : {{cpu_percent}} </p>
        </section>
        <section class="Mémoire">
            <h2>Mémoire</h2>
            <p>RAM totale : {{total_memory}}</p>
            <p>RAM utilisée : {{used_memory}}</p>
            <div class="progress-bar">
                <div class="progress-fill" id="ram-progress"></div>
            </div>
            <p class="progress-label"><span id="ram-percent">{{ram_percentage}}</span>% utilisé</p>
        </section>
        <section class="Réseau">
            <h2>Réseau</h2>
            <p>Adresse IP : {{ip_address}}</p>
        </section>
        <section class="processus">
            <h2>Processus</h2>
            <p>Nombre de processus en cours d'exécution : {{process_count}}</p>
            <p>top 3 des processus par utilisation CPU : {{top_3_processes}}</p>
        </section>
        <section class="fichiers">
            <h2>Fichiers</h2>
            <p>statistique sur les fichiers:{{pourcentage}}</p>
        </section>
    </main>

    <footer>
        <p>Généré le {{timestamp}}</p>
    </footer>
    <script>
        // Update RAM progress bar with dynamic color coding
        function updateRamProgress() {
            const ramPercent = document.getElementById('ram-percent');
            const ramProgress = document.getElementById('ram-progress');
            if (ramPercent && ramProgress) {
                const value = parseInt(ramPercent.textContent) || 0;
                ramProgress.style.width = value + '%';
                
                // Apply color class based on usage level
                ramProgress.classList.remove('green', 'orange', 'red');
                if (value <= 50) {
                    ramProgress.classList.add('green');
                } else if (value <= 80) {
                    ramProgress.classList.add('orange');
                } else {
                    ramProgress.classList.add('red');
                }
            }
        }
        // Run on page load and every refresh
        document.addEventListener('DOMContentLoaded', updateRamProgress);
        updateRamProgress();
    </script>
</body>
</html>